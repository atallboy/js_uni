(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-submit"],{"0ee1":function(e,t,a){e.exports=a.p+"static/images/balance-pay.png"},"21b1":function(e,t,a){"use strict";a.r(t);var i=a("aab5"),n=a("ffdd");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("d594");var s=a("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"b4a63e74",null,!1,i["a"],void 0);t["default"]=r.exports},2944:function(e,t,a){var i=a("2e59");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("2c4eba42",i,!0,{sourceMap:!1,shadowMode:!1})},"2e59":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,".coupon-container[data-v-b4a63e74]{display:flex;padding:8px}.coupon-wrap[data-v-b4a63e74]{display:flex;flex:1;flex-direction:column}.coupon-item[data-v-b4a63e74]{display:flex;background-color:#fffcfc;border-radius:4px;margin-bottom:10px;\n    /* padding: 20px 10px; */position:relative;flex-direction:column;padding-right:10px}.coupon-item-top[data-v-b4a63e74]{display:flex}.coupon-item-bottom[data-v-b4a63e74]{display:flex;padding:10px;font-size:12px;color:#333;background-color:#fefcfc}.coupon-price[data-v-b4a63e74]{display:flex;justify-content:center;align-items:center;width:140px;height:90px;background-color:#ffeeed;flex-direction:column}.coupon-price-a[data-v-b4a63e74]{color:#dd2e26}.coupon-price-b[data-v-b4a63e74]{color:#dd2e26}.coupon-price-c[data-v-b4a63e74]{color:#dd2e26}.coupon-price-item[data-v-b4a63e74]{display:flex;vertical-align:bottom;display:table-cell}.coupon-price-icon[data-v-b4a63e74]{font-size:16px;font-weight:bolder}.coupon-price-value[data-v-b4a63e74]{font-size:30px;font-weight:bolder}.coupon-price-limit[data-v-b4a63e74]{font-size:12px}.coupon-info[data-v-b4a63e74]{display:flex;flex:1;justify-content:center;align-items:center;flex-direction:column}.coupon-cate[data-v-b4a63e74]{color:#dd2e26;font-size:12px}.coupon-title[data-v-b4a63e74]{font-size:15px;color:#222;line-height:30px}.coupon-valid-time[data-v-b4a63e74]{font-size:12px;color:#666}.coupon-status[data-v-b4a63e74]{display:flex;width:80px;justify-content:flex-end;align-items:center}.coupon-btn[data-v-b4a63e74]{padding:5px 12px;border-radius:100px;font-size:12px}.coupon-btn-wait-a[data-v-b4a63e74]{background-color:#dd2e26;color:#fff}.coupon-btn-wait-b[data-v-b4a63e74]{background-color:#dd2e26;color:#fff}.coupon-btn-wait-c[data-v-b4a63e74]{background-color:#dd2e26;color:#fff}.coupon-btn-default[data-v-b4a63e74]{background-color:#999;color:#fff}",""]),e.exports=t},"44dc":function(e,t,a){"use strict";a.r(t);var i=a("6e36"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"629c":function(e,t,a){"use strict";a.r(t);var i=a("dc8c"),n=a("44dc");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("809a");var s=a("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"17f8dd43",null,!1,i["a"],void 0);t["default"]=r.exports},"6e36":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bf0f"),a("2797"),a("aa9c"),a("e838"),a("c223"),a("795c");var n=i(a("2634")),o=i(a("2fdc")),s=a("3742"),r=a("a1db"),d={data:function(){return{e:{},address:{},orderProduct:[],orderProductIds:[],master:{},timeArray:[],btnStatus:!0,payType:1,user:{balance:""},coupon_list:[],coupon:{id:0,coupon_record_id:0},payInfo:{pay_fee:0,travel_expense:0,bus_fee:0,taxi_fee:0,qibujia:0},travel_type:1,distance_msg:"",distance:0,rtData:{},canSubmit:!0,remark:"",item_detail:{},travel_fee_text:"",time:"",selectedDay:"今天",defaultStyle:{color:"#000","font-weight":"normal","font-size":"16px",padding:"10px"},selectedStyle:{color:"#24C373","font-weight":"bold","font-size":"16px",padding:"10px"}}},onLoad:function(e){this.e=e,this.itemDetail(),this.masterDetail(),this.userInfo()},onShow:function(){uni.getStorageSync("selAddress")&&(this.address=uni.getStorageSync("selAddress"),this.calcDistanceAndFee()),this.travel_fee_text=uni.getStorageSync("settingInfo").travel_fee_text,this.addressList(),this.couponRecord()},onReady:function(){},methods:{confirmTime:function(){""!=this.time?this.$refs.popupTime.close():uni.showToast({title:"请选择服务时间",icon:"none"})},selectDay:function(e){this.selectedDay=e,this.timeArray=this.getRemainingHalfHours(e)},selTimePop:function(){this.$refs.popupTime.open("bottom"),this.timeArray=this.getRemainingHalfHours(this.selectedDay)},selTime:function(e){console.log(e),this.time=e},itemDetail:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.itemDetail)({id:e.e.item_id});case 2:a=t.sent,e.item_detail=a.data.data,e.orderProduct=[a.data.data],e.orderProduct.forEach((function(t){e.orderProductIds.push(t.id)})),e.calcPayInfo();case 7:case"end":return t.stop()}}),t)})))()},masterDetail:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.masterDetail)({id:e.e.master_id});case 2:a=t.sent,e.master=a.data.data,e.calcDistanceAndFee();case 5:case"end":return t.stop()}}),t)})))()},inputRemark:function(e){this.remark=e.detail.value},addressList:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a,i,o;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.addressList)();case 2:if(a=t.sent,0==a.data.data.length)e.address={},uni.removeStorageSync("selAddress");else{for(i=!1,o=0;o<a.data.data.length;o++)a.data.data[o].id==e.address.id&&(i=!0);i||(e.address={},uni.removeStorageSync("selAddress"))}e.calcDistanceAndFee();case 5:case"end":return t.stop()}}),t)})))()},calcDistanceAndFee:function(){if(console.log("calcDistanceAndFee-master:",this.master),console.log("calcDistanceAndFee-address:",this.address),this.address.id){var e=this.distanceOf({latitude:this.master.latitude,longitude:this.master.longitude},{latitude:this.address.latitude,longitude:this.address.longitude});this.distance=(e/1e3).toFixed(2),console.log("距离：",e),this.distance_msg=e<1e3?e+"米":(e/1e3).toFixed(2)+"公里"}this.calcPayInfo()},changeTravelType:function(e){this.travel_type=e,this.calcPayInfo()},calcPayInfo:function(){var e,t,a=this;if(e=t=0,this.payInfo.pay_fee=0,this.orderProduct.forEach((function(e){console.log(e),a.payInfo.pay_fee+=parseFloat(e.price)})),this.coupon.amount&&(this.payInfo.pay_fee-=parseFloat(this.coupon.amount)),1==this.master.travel_expense&&this.address.id&&(console.log("计算时距离：",this.distance),1==this.travel_type)){var i=(this.distance-1).toFixed(2);e=t=parseFloat(this.master.qibujia),i>0&&(e=t+=parseFloat((this.master.taxi_fee*i).toFixed(2)))}this.payInfo.travel_expense=e.toFixed(2),this.payInfo.taxi_fee=t,this.payInfo.bus_fee=0,this.payInfo.pay_fee=parseFloat((this.payInfo.pay_fee+parseFloat(e)).toFixed(2))},selCoupon:function(e){console.log(e),this.coupon=e,this.$refs.popup.close(),this.calcPayInfo()},closeCouponToast:function(){this.$refs.popup.close()},openCouponToast:function(){this.$refs.popup.open("bottom")},removeDisable:function(){var e=this;setTimeout((function(){e.canSubmit=!0}),1500)},couponRecord:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.couponRecord)({ids:e.e.item_id,use_range:"submit_order"});case 2:a=t.sent,e.coupon_list=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},userInfo:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.getUserInfo)();case 2:a=t.sent,e.user=a.data.data,e.user.balance=parseFloat(a.data.data.balance);case 5:case"end":return t.stop()}}),t)})))()},pay:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a,i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("paying-distance",e.distance),"NaN"!=e.distance){t.next=4;break}return uni.showToast({title:"距离计算有误，请重新选择地址",icon:"none"}),t.abrupt("return");case 4:if(""!=e.time){t.next=7;break}return uni.showToast({title:"请选择服务时间",icon:"none"}),t.abrupt("return");case 7:if(console.log(parseFloat(e.payInfo.pay_fee),parseFloat(e.user.balance)),!(parseFloat(e.payInfo.pay_fee)>parseFloat(e.user.balance)&&2==e.payType)){t.next=11;break}return uni.showToast({title:"余额不足，请选择微信支付",icon:"none"}),t.abrupt("return");case 11:if(a={},a.address_id=e.address.id,a.master_id=e.master.id,a.service_time=e.getDateStr(e.selectedDay)+" "+e.time,e.btnStatus=!1,a.ids=e.orderProduct[0].id+"=1",a.coupon_id=e.coupon.coupon_record_id,a.pay_type=e.payType,a.travel_type=e.travel_type,a.travel_expense=e.payInfo.travel_expense,a.remark=e.remark,e.canSubmit){t.next=24;break}return t.abrupt("return");case 24:return e.canSubmit=!1,e.removeDisable(),uni.showLoading(),t.next=29,(0,s.createOrder)(a);case 29:if(i=t.sent,uni.hideLoading(),2==e.payType&&uni.showModal({title:"支付成功",confirmText:"确定",showCancel:!1,success:function(){uni.switchTab({url:"/pages/order/list"})}}),1!=e.payType){t.next=38;break}return e.btnStatus=!0,e.canSubmit=!0,r.toPay(i.data.data,{cate:"order"}),t.abrupt("return");case 38:case"end":return t.stop()}}),t)})))()},bindTimeChange:function(e){this.timeIndex=e.detail.value},selAddress:function(){uni.setStorageSync("isSelAddress",1),uni.navigateTo({url:"/pages/address/list"})},payTypeChange:function(e){console.log(e),this.payType=e.detail.value},rad:function(e){return e*Math.PI/180},distanceOf:function(e,t){console.log(e,t);var a=this.rad(e.latitude),i=this.rad(t.latitude),n=a-i,o=this.rad(e.longitude)-this.rad(t.longitude),s=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(a)*Math.cos(i)*Math.pow(Math.sin(n/2),2)));return s*=6378.137,s=Math.abs(Math.round(1e4*s)/10),s},getRemainingHalfHours:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date,a=t.getHours(),i=t.getMinutes(),n=23,o=30,s=[];"明天"==e&&(a=0,i=0,s.push("00:00"));var r=a,d=i>=30?30:0;i<30?d=30:(r+=1,d=0);while(r<n||r===n&&d<=o)s.push("".concat(String(r).padStart(2,"0"),":").concat(String(d).padStart(2,"0"))),d+=30,60===d&&(d=0,r+=1);return s},getDateStr:function(e){var t=new Date;if("今天"===e)return t.toISOString().split("T")[0];if("明天"===e){var a=new Date(t);return a.setDate(t.getDate()+1),a.toISOString().split("T")[0]}}}};t.default=d},"73e1":function(e,t,a){"use strict";var i=a("29d8");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},"795c":function(e,t,a){"use strict";var i=a("8bdb"),n=a("db04").start,o=a("73e1");i({target:"String",proto:!0,forced:o},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"7fe6":function(e,t,a){e.exports=a.p+"static/images/coupon.png"},"809a":function(e,t,a){"use strict";var i=a("cf40"),n=a.n(i);n.a},a3dc:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"yj-coupon",emits:["selCoupon"],props:{list:{type:Array,default:[]},btnShow:{type:Boolean,default:!1}},data:function(){return{}},onLoad:function(){},methods:{useCoupon:function(e){this.$emit("selCoupon",e)}}};t.default=i},aab5:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.list[0]?e._e():i("v-uni-view",{staticStyle:{"text-align":"center","padding-top":"100px"}},[i("v-uni-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:a("db72")}})],1),i("v-uni-view",{staticClass:"coupon-container"},[i("v-uni-view",{staticClass:"coupon-wrap"},e._l(e.list,(function(t){return i("v-uni-view",{staticClass:"coupon-item mix-border"},[i("v-uni-view",{staticClass:"coupon-item-top mix-bottom"},[i("v-uni-view",{staticClass:"coupon-price"},[i("v-uni-view",{staticClass:"coupon-price-item coupon-price-a"},[i("v-uni-text",{staticClass:"coupon-price-icon"},[e._v("￥")]),i("v-uni-text",{staticClass:"coupon-price-value"},[e._v(e._s(t.amount))])],1),1==t.type?i("v-uni-view",{staticClass:"coupon-price-limit"},[e._v("直减")]):e._e(),2==t.type?i("v-uni-view",{staticClass:"coupon-price-limit"},[e._v("满"+e._s(t.minimum)+"减"+e._s(t.amount))]):e._e()],1),i("v-uni-view",{staticClass:"coupon-info"},[i("v-uni-view",{staticClass:"coupon-title"},[e._v(e._s(t.name))]),i("v-uni-view",{staticClass:"coupon-valid-time"},[1==t.use_range?i("v-uni-text",{staticClass:"coupon-cate"},[e._v("#通用券")]):e._e()],1),[i("v-uni-view",{staticClass:"coupon-valid-time"},[e._v(e._s(t.valid_start_time)+" - "+e._s(t.valid_end_time))])]],2),e.btnShow?i("v-uni-view",{staticClass:"coupon-status"},[i("v-uni-view",{staticClass:"coupon-btn coupon-btn-wait-a",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.useCoupon(t)}}},[e._v("使用")])],1):e._e()],1)],1)})),1)],1)],1)},n=[]},cdb1:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,".address-container[data-v-17f8dd43]{padding:10px;background-color:#fff}.address-add[data-v-17f8dd43]{background-color:var(--mainColor);color:#fff;border-radius:8px;height:36px;line-height:36px;text-align:center}.address-wrap[data-v-17f8dd43]{display:flex;flex:1}.address-item[data-v-17f8dd43]{display:flex;flex:1}.address-info[data-v-17f8dd43]{display:flex;flex:1;flex-direction:column;font-size:14px}.address-info-top[data-v-17f8dd43]{display:flex}.address-info-name[data-v-17f8dd43]{display:flex;flex:1}.address-info-tel[data-v-17f8dd43]{display:flex;flex:1;justify-content:flex-end}.address-info-addr[data-v-17f8dd43]{display:flex;flex:1}.address-icon[data-v-17f8dd43]{display:flex;width:40px;justify-content:flex-end;align-items:center}.order-container[data-v-17f8dd43]{padding:10px}.order-wrap[data-v-17f8dd43]{background-color:#fff;padding:6px}.order-product[data-v-17f8dd43]{padding:10px 0}.order-product-item[data-v-17f8dd43]{display:flex}.order-product-pic[data-v-17f8dd43]{display:flex;width:90px}.order-product-pic uni-image[data-v-17f8dd43]{width:90px;height:70px}.order-product-info[data-v-17f8dd43]{display:flex;flex-direction:column;flex:1;justify-content:center;padding-left:10px}.order-product-name[data-v-17f8dd43]{font-size:16px;color:#333;font-weight:700;margin-bottom:8px}.order-product-price[data-v-17f8dd43]{color:#ff6051;font-size:16px;font-weight:700;line-height:20px}.order-product-num[data-v-17f8dd43]{display:flex;align-items:center;justify-content:center;padding-right:10px}.order-param[data-v-17f8dd43]{display:flex;height:40px;align-items:center;padding-left:5px}.order-param-pic[data-v-17f8dd43]{display:flex;width:26px}.order-param-pic uni-image[data-v-17f8dd43]{width:20px;height:20px}.order-param-label[data-v-17f8dd43]{display:flex;width:80px;font-size:13px;color:#333}.order-param-value[data-v-17f8dd43]{display:flex;flex:1;justify-content:flex-end}.order-param-value uni-input[data-v-17f8dd43]{width:100%;text-align:right}.order-param-icon[data-v-17f8dd43]{display:flex;width:20px;justify-content:flex-end}.order-param-coupon[data-v-17f8dd43]{display:flex;justify-content:flex-end;color:#999}.order-param-coupon-active[data-v-17f8dd43]{color:#fff;background-color:#fd4950;padding:2px 3px 2px 10px;border-radius:100px;font-size:12px}.order-param-coupon-sel[data-v-17f8dd43]{color:#fd4950}.master-name[data-v-17f8dd43]{font-weight:600;padding-right:5px}.service-time[data-v-17f8dd43]{color:var(--mainColor)}.travel-item[data-v-17f8dd43]{width:80px;height:28px;line-height:28px;text-align:center;margin-left:10px;border:1px solid #333;border-radius:3px}.travel-item-selected[data-v-17f8dd43]{background-color:var(--mainColor);color:#fff;border:1px solid var(--mainColor)}.pay-wrap[data-v-17f8dd43]{position:fixed;left:0;right:0;bottom:0;background-color:#fff;display:flex;align-items:center;padding:10px}.pay-info[data-v-17f8dd43]{display:flex;flex:1;color:#ff6051;font-size:19px;align-items:center}.pay-info uni-text[data-v-17f8dd43]{font-size:13px}.pay-btn[data-v-17f8dd43]{width:100px;background-color:var(--mainColor);color:#fff;border-radius:100px;padding:6px 0;text-align:center}.pay-type-container[data-v-17f8dd43]{padding:10px}.pay-type-header[data-v-17f8dd43]{line-height:30px}.pay-type-wrap[data-v-17f8dd43]{background-color:#fff;padding:10px}.pay-type-item[data-v-17f8dd43]{display:flex;height:40px;align-items:center}.pay-type-icon[data-v-17f8dd43]{display:flex;width:30px}.pay-type-icon uni-image[data-v-17f8dd43]{width:25px;height:25px}.pay-type-name[data-v-17f8dd43]{display:flex;flex:1;align-items:center}.pay-type-radio[data-v-17f8dd43]{display:flex;width:50px;justify-content:center}.pay-type-radio uni-radio[data-v-17f8dd43]{-webkit-transform:scale(.7);transform:scale(.7)}",""]),e.exports=t},cf40:function(e,t,a){var i=a("cdb1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("393fbac0",i,!0,{sourceMap:!1,shadowMode:!1})},d1ad:function(e,t,a){e.exports=a.p+"static/images/wechat-pay.png"},d594:function(e,t,a){"use strict";var i=a("2944"),n=a.n(i);n.a},db04:function(e,t,a){"use strict";var i=a("bb80"),n=a("c435"),o=a("9e70"),s=a("f298"),r=a("862c"),d=i(s),c=i("".slice),l=Math.ceil,u=function(e){return function(t,a,i){var s,u,p=o(r(t)),f=n(a),v=p.length,x=void 0===i?" ":o(i);return f<=v||""===x?p:(s=f-v,u=d(x,l(s/x.length)),u.length>s&&(u=c(u,0,s)),e?p+u:u+p)}};e.exports={start:u(!1),end:u(!0)}},db72:function(e,t,a){e.exports=a.p+"static/images/null.png"},dc8c:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcons:a("a6ce").default,uniPopup:a("4beb").default,yjCoupon:a("21b1").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"address-container",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selAddress.apply(void 0,arguments)}}},[e.address.id?i("v-uni-view",{staticClass:"address-wrap"},[i("v-uni-view",{staticClass:"address-item"},[i("v-uni-view",{staticClass:"address-info"},[i("v-uni-view",{staticClass:"address-info-top"},[i("v-uni-view",{staticClass:"address-info-name"},[e._v("联系人："+e._s(e.address.name))]),i("v-uni-view",{staticClass:"address-info-tel"},[e._v(e._s(e.address.tel))])],1),i("v-uni-view",{staticClass:"address-info-addr"},[e._v("地址："+e._s(e.address.address))])],1),i("v-uni-view",{staticClass:"address-icon"},[i("uni-icons",{attrs:{type:"forward"}})],1)],1)],1):i("v-uni-view",{staticClass:"address-add"},[e._v("添加/选择地址")])],1),i("v-uni-view",{staticClass:"order-container"},[i("v-uni-view",{staticClass:"order-wrap"},[i("v-uni-view",{staticClass:"order-product"},e._l(e.orderProduct,(function(t,a){return i("v-uni-view",{staticClass:"order-product-item"},[i("v-uni-view",{staticClass:"order-product-pic"},[i("v-uni-image",{attrs:{src:t.pic}})],1),i("v-uni-view",{staticClass:"order-product-info"},[i("v-uni-view",{staticClass:"order-product-name"},[e._v(e._s(t.name))]),i("v-uni-view",{staticClass:"order-product-price"},[e._v(e._s(t.price))])],1),i("v-uni-view",{staticClass:"order-product-num"},[e._v("x1")])],1)})),1),i("v-uni-view",{staticClass:"order-param mix-top"},[i("v-uni-view",{staticClass:"order-param-label"},[e._v("服务技师")]),i("v-uni-view",{staticClass:"order-param-value master-name"},[e._v(e._s(e.master.name))])],1),i("v-uni-view",{staticClass:"order-param",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selTimePop.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"order-param-label"},[e._v("服务时间")]),i("v-uni-view",{staticClass:"order-param-value service-time"},[e.time?i("v-uni-text",[e._v(e._s(e.selectedDay)+e._s(e.time))]):i("v-uni-text",[e._v("请选择服务时间")])],1),i("v-uni-view",{staticClass:"order-param-icon"},[i("uni-icons",{attrs:{type:"forward",size:"15",color:"#24C373"}})],1)],1),1==e.master.travel_expense?[i("v-uni-view",{staticClass:"order-param mix-top"},[i("v-uni-view",{staticClass:"order-param-label"},[e._v("出行方式")]),i("v-uni-view",{staticClass:"order-param-value",staticStyle:{"padding-top":"15px"}},[1==e.travel_type?[i("v-uni-view",{staticClass:"travel-item travel-item-selected"},[e._v(e._s(e.travel_fee_text))])]:e._e()],2)],1),i("v-uni-view",{staticClass:"order-param",staticStyle:{height:"50px"}},[i("v-uni-view",{staticClass:"order-param-label",staticStyle:{flex:"1",color:"#999"}},[e._v("全程共"+e._s(e.distance_msg)+"；出行费起步价"+e._s(e.master.qibujia)+"元，每公里"+e._s(e.master.taxi_fee)+"元；")])],1),i("v-uni-view",{staticClass:"order-param"},[i("v-uni-view",{staticClass:"order-param-label"},[e._v("出行费")]),e.address.id?i("v-uni-view",{staticClass:"order-param-value",staticStyle:{color:"rgb(255, 96, 81)"}},[e._v("￥"+e._s(e.payInfo.travel_expense))]):i("v-uni-view",{staticClass:"order-param-value",staticStyle:{color:"rgb(255, 96, 81)"}},[e._v("选择地址后显示")])],1)]:e._e(),i("v-uni-view",{staticClass:"order-param mix-top"},[i("v-uni-view",{staticClass:"order-param-label"},[e._v("备注")]),i("v-uni-view",{staticClass:"order-param-value"},[i("v-uni-input",{attrs:{type:"text",name:"remark",placeholder:"在此输入备注"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputRemark.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"order-param-icon"},[i("uni-icons",{attrs:{type:"forward",size:"15"}})],1)],1),i("v-uni-view",{staticClass:"order-param mix-top"},[i("v-uni-view",{staticClass:"order-param-pic"},[i("v-uni-image",{attrs:{src:a("7fe6")}})],1),i("v-uni-view",{staticClass:"order-param-label"},[e._v("优惠券")]),i("v-uni-view",{staticClass:"order-param-value",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openCouponToast.apply(void 0,arguments)}}},[e.coupon_list[0]?e._e():i("v-uni-view",{staticClass:"order-param-coupon"},[e._v("无可用优惠券"),i("uni-icons",{attrs:{type:"forward",size:"12",color:"#999"}})],1),e.coupon_list[0]&&!e.coupon.id?i("v-uni-view",{staticClass:"order-param-coupon order-param-coupon-active"},[e._v(e._s(e.coupon_list.length)+"张可用"),i("uni-icons",{attrs:{type:"forward",size:"12",color:"#fff"}})],1):e._e(),e.coupon_list[0]&&e.coupon.id?i("v-uni-view",{staticClass:"order-param-coupon order-param-coupon-sel"},[e._v(e._s(e.coupon.name)),i("uni-icons",{attrs:{type:"forward",size:"12",color:"#FD4950"}})],1):e._e()],1)],1)],2)],1),i("v-uni-view",{staticClass:"pay-type-container"},[i("v-uni-view",{staticClass:"pay-type-header"},[e._v("支付方式")]),i("v-uni-view",{staticClass:"pay-type-wrap"},[i("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.payTypeChange.apply(void 0,arguments)}}},[i("v-uni-label",[i("v-uni-view",{staticClass:"pay-type-item"},[i("v-uni-view",{staticClass:"pay-type-icon"},[i("v-uni-image",{attrs:{src:a("d1ad")}})],1),i("v-uni-view",{staticClass:"pay-type-name"},[e._v("微信支付")]),i("v-uni-view",{staticClass:"pay-type-radio"},[i("v-uni-radio",{attrs:{value:"1",checked:!0}})],1)],1)],1),i("v-uni-label",[i("v-uni-view",{staticClass:"pay-type-item"},[i("v-uni-view",{staticClass:"pay-type-icon"},[i("v-uni-image",{attrs:{src:a("0ee1")}})],1),i("v-uni-view",{staticClass:"pay-type-name"},[e._v("余额支付"),i("v-uni-text",{staticStyle:{color:"#555","font-size":"12px"}},[e._v("（当前余额："+e._s(e.user.balance)+"元）")])],1),i("v-uni-view",{staticClass:"pay-type-radio"},[e.user.balance>=e.payInfo.pay_fee?i("v-uni-radio",{attrs:{value:"2"}}):i("v-uni-radio",{attrs:{disabled:!0,value:"2"}})],1)],1)],1)],1)],1)],1),i("v-uni-view",{staticStyle:{width:"100%",height:"60px"}}),i("v-uni-view",{staticClass:"pay-wrap"},[i("v-uni-view",{staticClass:"pay-info"},[i("v-uni-text",[e._v("合计：")]),e._v("￥"+e._s(e.payInfo.pay_fee))],1),i("v-uni-view",{staticClass:"pay-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pay.apply(void 0,arguments)}}},[e._v("立即支付")])],1),i("uni-popup",{ref:"popup",attrs:{"background-color":"#fff"}},[i("v-uni-view",[i("v-uni-view",{staticStyle:{display:"flex"}},[i("v-uni-view",{staticStyle:{display:"flex",width:"50px"}}),i("v-uni-view",{staticStyle:{display:"flex",flex:"1","justify-content":"center","align-items":"center",height:"40px"}},[e._v("选择优惠券")]),i("v-uni-view",{staticStyle:{display:"flex",width:"40px","justify-content":"center","align-items":"center",height:"40px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeCouponToast.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"close",size:"20"}})],1)],1),i("v-uni-view",[i("yj-coupon",{attrs:{list:e.coupon_list,btnShow:!0},on:{selCoupon:function(t){arguments[0]=t=e.$handleEvent(t),e.selCoupon.apply(void 0,arguments)}}})],1)],1)],1),i("uni-popup",{ref:"popupTime",attrs:{type:"center"}},[i("v-uni-view",{staticStyle:{"background-color":"#fff",padding:"10px","border-radius":"4px","padding-bottom":"0px"}},[i("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-around"}},[i("v-uni-view",{style:["今天"===e.selectedDay?e.selectedStyle:e.defaultStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectDay("今天")}}},[e._v("今天")]),i("v-uni-view",{style:["明天"===e.selectedDay?e.selectedStyle:e.defaultStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectDay("明天")}}},[e._v("明天")])],1),i("v-uni-scroll-view",{staticStyle:{"max-height":"200px"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start","align-items":"center"}},[e._l(e.timeArray,(function(t,a){return[t!=e.time?i("v-uni-view",{key:a+"_0",staticStyle:{"font-size":"12px",display:"flex",width:"23%","align-items":"center","justify-content":"center",height:"40px",color:"#fff",border:"1px solid #4bd3af","border-radius":"2px","margin-bottom":"10px","margin-right":"2%","box-sizing":"border-box","background-color":"#4bd3af"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.selTime(t)}}},[e._v(e._s(t))]):i("v-uni-view",{staticStyle:{"font-size":"12px",display:"flex",width:"23%","align-items":"center","justify-content":"center",height:"40px",color:"#fff",border:"1px solid #88cdea","border-radius":"2px","margin-bottom":"10px","margin-right":"2%","background-color":"#88cdea","box-sizing":"border-box"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.selTime(t)}}},[e._v(e._s(t))])]}))],2)],1)],1),i("v-uni-view",{staticStyle:{"line-height":"40px","background-color":"#01c08d",color:"#fff","text-align":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmTime.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)},o=[]},f298:function(e,t,a){"use strict";var i=a("497b"),n=a("9e70"),o=a("862c"),s=RangeError;e.exports=function(e){var t=n(o(this)),a="",r=i(e);if(r<0||r===1/0)throw new s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},ffdd:function(e,t,a){"use strict";a.r(t);var i=a("a3dc"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a}}]);